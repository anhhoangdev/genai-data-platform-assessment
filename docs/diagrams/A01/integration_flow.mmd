```mermaid
sequenceDiagram
  autonumber
  participant U as User
  participant IAP as IAP (TCP Forwarding)
  participant B as Bastion
  participant IPA as FreeIPA
  participant W as Workstation
  participant N as Filestore (NFS)

  U->>IAP: Authenticate (OAuth2)
  IAP->>B: Establish SSH (IAP TCP tunnel)
  B->>IPA: PAM/SSSD lookup (LDAP/Kerberos)
  IPA-->>B: AuthZ/AuthN response
  Note over B,IPA: Access controlled via IPA policies

  U->>W: SSH jump via Bastion
  W->>IPA: SSSD join/lookup (Kerberos/LDAP)
  IPA-->>W: Realm config / tickets

  W->>N: autofs mount NFS home (v4.1)
  N-->>W: Home directory mounted
  Note over W,N: Transparent home directories for users

  rect rgb(240,240,240)
  Note over U,W: Ticket lifecycle (kinit, renewal)
  end
```


